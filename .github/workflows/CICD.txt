# name: .NET 7 CI/CD Pipeline

# on:
#   push:
#     branches:
#       - main  # Change to your default branch or add more branches as needed
#   pull_request:
#     branches:
#       - main  # Change to your default branch or add more branches as needed

# jobs:
#   build:
#     name: Build and Test
#     runs-on: ubuntu-latest  # Or windows-latest if you need Windows-based runners

#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v3

#       - name: Set up .NET
#         uses: actions/setup-dotnet@v3
#         with:
#           dotnet-version: '7.x'  # Ensure you're using .NET 7.x

#       - name: Install dependencies
#         run: dotnet restore

#       - name: Build
#         run: dotnet build --no-restore

#       - name: Run Tests
#         run: dotnet test --no-build --verbosity normal

#       - name: Publish
#         run: dotnet publish --no-build --configuration Release --output ./publish

#       - name: Upload artifacts
#         uses: actions/upload-artifact@v4
#         with:
#           name: dotnet-app
#           path: ./publish

#   deploy:
#     name: Deploy to Production
#     runs-on: ubuntu-latest
#     needs: build
#     if: github.event_name == 'push' && github.ref == 'refs/heads/main'  # Adjust based on your deployment trigger

#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v3

#       - name: Download artifacts
#         uses: actions/download-artifact@v4
#         with:
#           name: dotnet-app

#       - name: Deploy
#         run: |
#           # Example deployment script or command
#           # Replace this with your actual deployment logic
#           echo "Deploying application..."
#           # e.g., scp ./publish/* user@yourserver:/path/to/deploy/